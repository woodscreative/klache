/*! klache v1.1.0, https://github.com/woodscreative/klache */
!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("klache",[],factory):"object"==typeof exports?exports.klache=factory():root.klache=factory()}(window,function(){return modules={"./src/lib.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar klache = {}\nklache.version = '1.0.0'\n\n/**\n * Get local storage object\n *\n * @param string $key the local storage object key\n * @return object payload or null if empty or expired\n */\nklache.get = function ($key) {\n  if (!window.localStorage.getItem($key)) {\n    return\n  };\n  var payload = JSON.parse(window.localStorage.getItem($key))\n  if (payload) {\n    // set to true to expire this storage item\n    var hasExpired = false\n\n    // check storage version...\n    var v = payload.storage.version\n    if (v !== klache.version) {\n      hasExpired = true\n    };\n\n    // check cache expiry...\n    if (payload.storage.expires > 0) {\n      var now = klache.getTimestamp()\n      var cacheExpiryTime = parseFloat(payload.storage.expires)\n      var timestamp = payload.storage.timestamp\n      var secondsThatHaveExpired = cacheExpiryTime - (now - timestamp)\n      if (secondsThatHaveExpired <= 0) {\n        hasExpired = true\n      };\n    };\n\n    // Expired?\n    if (hasExpired) {\n      klache.removeKey($key)\n      return null\n    };\n    return payload.data\n  };\n}\n\n/**\n * Get todays date as timestamp\n *\n * @return int\n */\nklache.getTimestamp = function () {\n  return parseInt(new Date().getTime() / 1000)\n}\n\n/**\n * Clear all local storage objects\n */\nklache.removeAll = function () {\n  window.localStorage.clear()\n}\n\n/**\n * Clear local storage object by key\n * @param string $key the storage key\n */\nklache.removeKey = function ($key) {\n  window.localStorage.removeItem($key)\n}\n\n/**\n * Set local storage object\n *\n * @param string $key the local storage object key\n * @param object $payload the object to store\n * @param int $expiryInSeconds the expiry time in seconds\n * @return object payload.data the payload\n */\nklache.set = function ($key, $payload, $expiryInSeconds) {\n  var payload = {}\n\n  // the storage configuration...\n  payload.storage = {\n    // version the storage item\n    version: klache.version,\n    // the current timestamp in seconds\n    timestamp: klache.getTimestamp(),\n    // the cache expiry time in seconds\n    expires: 0\n  }\n\n  // if defined add expiry time in seconds...\n  if ($expiryInSeconds) {\n    payload.storage.expires = $expiryInSeconds\n  };\n\n  // add data property\n  payload.data = $payload\n\n  window.localStorage.setItem($key, JSON.stringify(payload))\n  return payload.data\n}\n\nmodule.exports = klache\nmodule.exports.default = klache\n\n\n//# sourceURL=webpack://klache/./src/lib.js?")}},installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/lib.js");function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules});